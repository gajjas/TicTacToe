<% include ./partials/header %>
<link rel="stylesheet" href="/stylesheets/userProfile.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<% include ./partials/nav %>

<div class="container-fluid row wrap">
    <div class="d-flex col-3 justify-content-center align-items-center profile-div">
        <div class="profile">
            <div class="row">
                <h2 class=" col-12 username"><%- data.username %></h2>
                <img class="img-thumbnail col-7 mx-auto d-block userImage" src="/images/profile.png">
            </div>
        </div>
    </div>
    <div class="col-9 justify-content-center list-container">
        <h1>Recent Matches</h1>
        <hr>
        <div class="container p-5">
            <table class="table table-striped table-success">
                <thead>
                    <tr>
                        <th scope="col">Date</th>
                        <th scope="col">Opponent</th>
                        <th scope="col">Outcome</th>
                    </tr>
                </thead>
                <tbody>
                    <% data.games.forEach(game => { %> 
                        <tr data-href="/game/<%- game.id %>">
                            <td><%- game.date %></td>
                            <td><%- game.opponent %> </td>
                            <td><%- game.outcome %> </td>
                        </tr>
                    <%});%>
                </tbody>
            </table>
        </div>

    </div>
</div>

<script>
    function enter(){}
    var handler = function(){}

    $("tr[data-href]").on("click", function(){
        window.location.href = this.dataset.href;
    });
    $("tr[data-href]").hover(function() {
        $(this).css('cursor','pointer');
    }, function() {
        $(this).css('cursor','auto');
    });
</script>

<% include ./partials/footer %>